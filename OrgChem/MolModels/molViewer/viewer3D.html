<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Chem Viewer 3D Demo</title>

	<script src="../_libs/Three.js"></script>
	<script src="../_libs/raphael-min.2.0.1.js"></script>
	<script src="../_libs/kekule/kekule.js?module=chemWidget"></script>
	<link rel="stylesheet" type="text/css" href="../_libs/kekule/themes/default/kekule.css" />
	
	<style>
		html, body
		{
			margin: 0;
			padding: 0;
			position: relative;
			overflow: hidden;
		}
		#chemViewer
		{
			border: none;
			margin: 0;
		}
		#header
		{
			padding: 0.2em 1em;
			overflow: hidden;
			vertical-align: middle;
		}
		#header button, #header span
		{
			display: inline-block;			
		}		
	</style>

	<script name="methane" id="methane" type="chemical/x-mdl-molfile">

  Chem3D Core 12.002211619173D

  5  4  0  0  0  0  0  0  0  0999 V2000
   -0.0000    0.0000    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
    1.1130    0.0000    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
   -0.3710    0.0000   -1.0493 H   0  0  0  0  0  0  0  0  0  0  0  0
   -0.3710    0.9088    0.5246 H   0  0  0  0  0  0  0  0  0  0  0  0
   -0.3710   -0.9088    0.5246 H   0  0  0  0  0  0  0  0  0  0  0  0
  1  2  1  0      
  1  3  1  0      
  1  4  1  0      
  1  5  1  0      
M  END
	</script>
	<script name="ethane" id="ethane" type="chemical/x-mdl-molfile">

  Chem3D Core 12.004161521183D

  8  7  0  0  0  0  0  0  0  0999 V2000
   -0.7615    0.0000    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
    0.7615    0.0000    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
   -1.1422    0.0000   -1.0459 H   0  0  0  0  0  0  0  0  0  0  0  0
   -1.1422    0.9050    0.5242 H   0  0  0  0  0  0  0  0  0  0  0  0
   -1.1422   -0.9050    0.5242 H   0  0  0  0  0  0  0  0  0  0  0  0
    1.1422    0.0000    1.0459 H   0  0  0  0  0  0  0  0  0  0  0  0
    1.1422    0.9050   -0.5242 H   0  0  0  0  0  0  0  0  0  0  0  0
    1.1422   -0.9050   -0.5242 H   0  0  0  0  0  0  0  0  0  0  0  0
  1  2  1  0      
  1  3  1  0      
  1  4  1  0      
  1  5  1  0      
  2  6  1  0      
  2  7  1  0      
  2  8  1  0      
M  END
	</script>
	<script name="ethene" id="ethene" type="chemical/x-mdl-molfile">

  Chem3D  03061217273D

  6  5  0  0  0  0  0  0  0  0999 V2000
   -6.1028    0.0000    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
   -4.7658    0.0000    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
   -6.6528   -0.9526   -0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
   -6.6528    0.9526    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
   -4.2158    0.9526    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
   -4.2158   -0.9526   -0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
  1  2  2  0      
  1  3  1  0      
  1  4  1  0      
  2  5  1  0      
  2  6  1  0      
M  END
	</script>
	<script name="ethyne" id="ethyne" type="chemical/x-mdl-molfile">

  Chem3D Core 12.004251721093D

  4  3  0  0  0  0  0  0  0  0999 V2000
   -0.6060    0.0000    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
    0.6060    0.0000    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
    1.6960    0.0000    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
   -1.6960    0.0000    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
  1  2  3  0      
  1  4  1  0      
  2  3  1  0      
M  END	
	</script>
	<script name="benzene" id="benzene" type="chemical/x-mdl-molfile">
Benzene.mol
  ChemDraw10290721372D

 12 12  0  0  0  0  0  0  0  0999 V2000
   -0.7145    0.4125    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
   -0.7145   -0.4125    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
   -0.0000   -0.8250    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
    0.7145   -0.4125    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
    0.7145    0.4125    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
   -0.0000    0.8250    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0
   -0.0000    1.6500    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
    1.4289    0.8250    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
    1.4289   -0.8250    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
   -0.0000   -1.6500    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
   -1.4289   -0.8250    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
   -1.4289    0.8250    0.0000 H   0  0  0  0  0  0  0  0  0  0  0  0
  1  2  2  0      
  2  3  1  0      
  3  4  2  0      
  4  5  1  0      
  5  6  2  0      
  6  1  1  0      
  6  7  1  0      
  5  8  1  0      
  4  9  1  0      
  3 10  1  0      
  2 11  1  0      
  1 12  1  0      
M  END	
	</script>

	<script>
		var chemViewer;
		function init()
		{
			chemViewer = Kekule.Widget.getWidgetById('chemViewer');
			// adjust size
			adjustSize();

			window.onresize = adjustSize;
			
			// check appointed mol id
			var url = window.location.href;
			var searches = Kekule.UrlUtils.analysisSearch(url, true);
			var molId = searches.mol;
			if (molId)
			{				
				loadMol(molId);
			}
		}
		function loadMol(id)
		{
			var resStr = 'url(#' + id + ')';
			Kekule.PredefinedResReferer.loadResource(resStr, function(resInfo, success)
			{
				if (success)
				{
				  var chemObj = Kekule.IO.loadTypedData(resInfo.data, resInfo.resType, resInfo.resUri);
				  chemViewer.setChemObj(chemObj);
				}
			}, null, document);
		}
		function adjustSize()
		{			
			var dim = Kekule.HtmlElementUtils.getViewportDimension(document);
			//var headerDim = Kekule.HtmlElementUtils.getElemClientDimension(document.getElementById('header'));
			chemViewer.setWidth(dim.width - 10 + 'px').setHeight(dim.height - 10 /* - headerDim.height */ + 'px');
		}

		Kekule.X.domReady(init);
	</script>
</head>
<body>	
	<div id="chemViewer" style="width:1000px;height:650px"
			 data-widget="Kekule.ChemWidget.Viewer3D" data-enable-toolbar="true" data-auto-size="false" data-padding="20"
			 data-toolbar-evoke-modes="[0]"
			 data-chem-obj="url(#methane)"></div>
</body>
</html>